"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.tokensTask = void 0;
const config_1 = require("hardhat/config");
const src_1 = require("../../client/src/");
const main = async (args, hre) => {
    const client = new src_1.ZetaChainClient({
        network: args.mainnet ? "mainnet" : "testnet",
    });
    const tokens = await client.getForeignCoins();
    const chains = await client.getSupportedChains();
    const tableData = tokens.map((token) => {
        const chain = chains.find((chain) => chain.chain_id === token.foreign_chain_id);
        const name = chain ? chain.chain_name : "Unsupported Chain";
        return {
            Chain: name,
            "ERC-20 on Connected Chain": token.asset || "",
            Symbol: token.symbol,
            Type: token.coin_type,
            "ZRC-20 decimals": token.decimals,
            "ZRC-20 on ZetaChain": token.zrc20_contract_address,
        };
    });
    tableData.sort((a, b) => a.Chain.localeCompare(b.Chain));
    console.table(tableData);
};
exports.tokensTask = (0, config_1.task)("tokens", "Show ZRC-20 address of supported gas and ERC-20 tokens", main).addFlag("mainnet", "Run the task on mainnet");
